# ğŸš€ OmniFocus MCP Enhanced

[![npm version](https://img.shields.io/npm/v/omnifocus-mcp-enhanced.svg)](https://www.npmjs.com/package/omnifocus-mcp-enhanced)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js CI](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)](https://nodejs.org/)
[![macOS](https://img.shields.io/badge/macOS-only-blue.svg)](https://www.apple.com/macos/)

> **ğŸŒŸ æ–°åŠŸèƒ½ï¼šåŸç”Ÿè‡ªå®šä¹‰é€è§†è®¿é—®ä¸å±‚çº§æ˜¾ç¤ºï¼**

> **å°† OmniFocus è½¬æ¢ä¸º AI é©±åŠ¨çš„ç”Ÿäº§åŠ›å¼ºåŒ–å·¥å…·ï¼Œæ”¯æŒè‡ªå®šä¹‰é€è§†**

å¢å¼ºç‰ˆ OmniFocus æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰æœåŠ¡å™¨ï¼Œå…·å¤‡**åŸç”Ÿè‡ªå®šä¹‰é€è§†è®¿é—®**ã€å±‚çº§ä»»åŠ¡æ˜¾ç¤ºã€AI ä¼˜åŒ–å·¥å…·é€‰æ‹©å’Œå…¨é¢çš„ä»»åŠ¡ç®¡ç†åŠŸèƒ½ã€‚ä¸ Claude AI å®Œç¾é›†æˆï¼Œå®ç°æ™ºèƒ½å·¥ä½œæµã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸŒŸ **æ–°åŠŸèƒ½ï¼šåŸç”Ÿè‡ªå®šä¹‰é€è§†è®¿é—®**
- **ğŸ¯ ç›´æ¥é›†æˆ** - é€šè¿‡ `Perspective.Custom` API åŸç”Ÿè®¿é—®æ‚¨çš„ OmniFocus è‡ªå®šä¹‰é€è§†
- **ğŸŒ³ å±‚çº§æ˜¾ç¤º** - æ ‘çŠ¶ä»»åŠ¡å¯è§†åŒ–ï¼Œæ˜¾ç¤ºçˆ¶å­å…³ç³»
- **ğŸ§  AI ä¼˜åŒ–** - å¢å¼ºçš„å·¥å…·æè¿°é˜²æ­¢ AI æ··æ·†é€è§†å’Œæ ‡ç­¾æ¦‚å¿µ
- **âš¡ é›¶é…ç½®** - ä¸æ‚¨ç°æœ‰çš„è‡ªå®šä¹‰é€è§†æ— ç¼å·¥ä½œ

### ğŸ—ï¸ **å®Œæ•´ä»»åŠ¡ç®¡ç†**
- **ğŸ—ï¸ å®Œæ•´å­ä»»åŠ¡æ”¯æŒ** - åˆ›å»ºå¸¦æœ‰çˆ¶å­å…³ç³»çš„å±‚çº§ä»»åŠ¡
- **ğŸ” å†…ç½®é€è§†** - è®¿é—®æ”¶ä»¶ç®±ã€å·²æ ‡è®°ã€é¢„æµ‹å’ŒåŸºäºæ ‡ç­¾çš„è§†å›¾
- **ğŸš€ ç»ˆæä»»åŠ¡è¿‡æ»¤å™¨** - è¶…è¶Š OmniFocus åŸç”ŸåŠŸèƒ½çš„é«˜çº§è¿‡æ»¤
- **ğŸ¯ æ‰¹é‡æ“ä½œ** - é«˜æ•ˆæ·»åŠ /åˆ é™¤å¤šä¸ªä»»åŠ¡
- **ğŸ“Š æ™ºèƒ½æŸ¥è¯¢** - é€šè¿‡ IDã€åç§°æˆ–å¤æ‚æ¡ä»¶æŸ¥æ‰¾ä»»åŠ¡
- **ğŸ”„ å®Œæ•´ CRUD æ“ä½œ** - åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ä»»åŠ¡å’Œé¡¹ç›®
- **ğŸ“… æ—¶é—´ç®¡ç†** - æˆªæ­¢æ—¥æœŸã€æ¨è¿Ÿæ—¥æœŸã€ä¼°æ—¶å’Œè®¡åˆ’
- **ğŸ·ï¸ é«˜çº§æ ‡ç­¾** - åŸºäºæ ‡ç­¾çš„ç²¾ç¡®/æ¨¡ç³ŠåŒ¹é…è¿‡æ»¤
- **ğŸ¤– AI é›†æˆ** - ä¸ Claude AI æ— ç¼é›†æˆï¼Œå®ç°æ™ºèƒ½å·¥ä½œæµ

## ğŸ“¦ å®‰è£…

### å¿«é€Ÿå®‰è£…ï¼ˆæ¨èï¼‰

```bash
# ä¸€é”®å®‰è£…
claude mcp add omnifocus-enhanced -- npx -y omnifocus-mcp-enhanced
```

### å…¶ä»–å®‰è£…æ–¹å¼

```bash
# å…¨å±€å®‰è£…
npm install -g omnifocus-mcp-enhanced
claude mcp add omnifocus-enhanced -- omnifocus-mcp-enhanced

# æœ¬åœ°é¡¹ç›®å®‰è£…
git clone https://github.com/jqlts1/omnifocus-mcp-enhanced.git
cd omnifocus-mcp-enhanced
npm install && npm run build
claude mcp add omnifocus-enhanced -- node "/path/to/omnifocus-mcp-enhanced/dist/server.js"
```

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **macOS 10.15+** - OmniFocus ä»…æ”¯æŒ macOS
- **OmniFocus 3+** - å¿…é¡»å®‰è£…å¹¶è¿è¡Œè¯¥åº”ç”¨ç¨‹åº
- **OmniFocus Pro** - è‡ªå®šä¹‰é€è§†åŠŸèƒ½éœ€è¦ Pro ç‰ˆæœ¬ï¼ˆv1.6.0 æ–°åŠŸèƒ½ï¼‰
- **Node.js 18+** - è¿è¡Œ MCP æœåŠ¡å™¨
- **Claude Code** - MCP é›†æˆ

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ğŸ—ï¸ å­ä»»åŠ¡ç®¡ç†

è½»æ¾åˆ›å»ºå¤æ‚çš„ä»»åŠ¡å±‚çº§ï¼š

```json
// é€šè¿‡çˆ¶ä»»åŠ¡åç§°åˆ›å»ºå­ä»»åŠ¡
{
  "name": "åˆ†æç«äº‰å¯¹æ‰‹å…³é”®è¯",
  "parentTaskName": "SEO ç­–ç•¥",
  "note": "é‡ç‚¹å…³æ³¨å‰ 10 åç«äº‰å¯¹æ‰‹",
  "dueDate": "2025-01-15",
  "estimatedMinutes": 120,
  "tags": ["SEO", "ç ”ç©¶"]
}

// é€šè¿‡çˆ¶ä»»åŠ¡ ID åˆ›å»ºå­ä»»åŠ¡
{
  "name": "ç¼–å†™å†…å®¹å¤§çº²",
  "parentTaskId": "loK2xEAY4H1",
  "flagged": true,
  "estimatedMinutes": 60
}
```

### 2. ğŸ” é€è§†è§†å›¾

ç¨‹åºåŒ–è®¿é—®æ‰€æœ‰ä¸»è¦ OmniFocus é€è§†ï¼š

```bash
# æ”¶ä»¶ç®±é€è§†
get_inbox_tasks {"hideCompleted": true}

# å·²æ ‡è®°ä»»åŠ¡
get_flagged_tasks {"projectFilter": "SEO é¡¹ç›®"}

# é¢„æµ‹ï¼ˆæœªæ¥ 7 å¤©ï¼‰
get_forecast_tasks {"days": 7, "hideCompleted": true}

# æŒ‰æ ‡ç­¾æŸ¥æ‰¾ä»»åŠ¡
get_tasks_by_tag {"tagName": "AI", "exactMatch": false}
```

### 3. ğŸš€ ç»ˆæä»»åŠ¡è¿‡æ»¤å™¨

åˆ›å»ºä»»ä½•å¯æƒ³è±¡çš„é€è§†ï¼Œä½¿ç”¨é«˜çº§è¿‡æ»¤ï¼š

```bash
# æ—¶é—´ç®¡ç†è§†å›¾ï¼ˆæœ¬å‘¨æˆªæ­¢çš„ 30 åˆ†é’Ÿä»»åŠ¡ï¼‰
filter_tasks {
  "taskStatus": ["Available", "Next"],
  "estimateMax": 30,
  "dueThisWeek": true
}

# æ·±åº¦å·¥ä½œè§†å›¾ï¼ˆ60+ åˆ†é’Ÿå¸¦å¤‡æ³¨çš„ä»»åŠ¡ï¼‰
filter_tasks {
  "estimateMin": 60,
  "hasNote": true,
  "taskStatus": ["Available"]
}

# é¡¹ç›®é€¾æœŸä»»åŠ¡
filter_tasks {
  "projectFilter": "ç½‘ç«™é‡è®¾è®¡",
  "taskStatus": ["Overdue", "DueSoon"]
}
```

### 4. ğŸŒŸ **æ–°åŠŸèƒ½ï¼šåŸç”Ÿè‡ªå®šä¹‰é€è§†è®¿é—®**

é€šè¿‡å±‚çº§ä»»åŠ¡æ˜¾ç¤ºè®¿é—®æ‚¨çš„ OmniFocus è‡ªå®šä¹‰é€è§†ï¼š

```bash
# ğŸŒŸ æ–°åŠŸèƒ½ï¼šåˆ—å‡ºæ‰€æœ‰è‡ªå®šä¹‰é€è§†
list_custom_perspectives {"format": "detailed"}

# ğŸŒ³ æ–°åŠŸèƒ½ï¼šä»è‡ªå®šä¹‰é€è§†è·å–ä»»åŠ¡ï¼Œæ”¯æŒæ ‘çŠ¶æ˜¾ç¤º
get_custom_perspective_tasks {
  "perspectiveName": "ä»Šæ—¥å·¥ä½œå®‰æ’",  # æ‚¨çš„è‡ªå®šä¹‰é€è§†åç§°
  "showHierarchy": true,            # å¯ç”¨æ ‘çŠ¶æ˜¾ç¤º
  "hideCompleted": true
}

# ä¸åŒé€è§†çš„ç¤ºä¾‹
get_custom_perspective_tasks {
  "perspectiveName": "ä»Šæ—¥å¤ç›˜",
  "showHierarchy": true
}

get_custom_perspective_tasks {
  "perspectiveName": "æœ¬å‘¨é¡¹ç›®",
  "showHierarchy": false  # å¹³é“ºæ˜¾ç¤º
}
```

**åŠŸèƒ½å¼ºå¤§çš„åŸå› ï¼š**
- âœ… **åŸç”Ÿé›†æˆ** - ç›´æ¥ä½¿ç”¨ OmniFocus `Perspective.Custom` API
- âœ… **æ ‘çŠ¶ç»“æ„** - ä½¿ç”¨ â”œâ”€ã€â””â”€ ç¬¦å·æ˜¾ç¤ºçˆ¶å­ä»»åŠ¡å…³ç³»
- âœ… **AI å‹å¥½** - å¢å¼ºçš„æè¿°é˜²æ­¢å·¥å…·é€‰æ‹©æ··æ·†
- âœ… **ä¸“ä¸šè¾“å‡º** - æ¸…æ™°ã€å¯è¯»çš„ä»»åŠ¡å±‚çº§

### 5. ğŸ¯ æ‰¹é‡æ“ä½œ

é«˜æ•ˆç®¡ç†å¤šä¸ªä»»åŠ¡ï¼š

```json
{
  "items": [
    {
      "type": "task",
      "name": "ç½‘ç«™æŠ€æœ¯ SEO",
      "projectName": "SEO é¡¹ç›®",
      "note": "ä¼˜åŒ–æŠ€æœ¯æ–¹é¢"
    },
    {
      "type": "task",
      "name": "é¡µé¢é€Ÿåº¦ä¼˜åŒ–",
      "parentTaskName": "ç½‘ç«™æŠ€æœ¯ SEO",
      "estimatedMinutes": 180,
      "flagged": true
    },
    {
      "type": "task",
      "name": "ç§»åŠ¨ç«¯å“åº”å¼",
      "parentTaskName": "ç½‘ç«™æŠ€æœ¯ SEO",
      "estimatedMinutes": 90
    }
  ]
}
```

## ğŸ› ï¸ å®Œæ•´å·¥å…·å‚è€ƒ

### ğŸ“Š æ•°æ®åº“ä¸ä»»åŠ¡ç®¡ç†
1. **dump_database** - è·å– OmniFocus æ•°æ®åº“çŠ¶æ€
2. **add_omnifocus_task** - åˆ›å»ºä»»åŠ¡ï¼ˆå¢å¼ºå­ä»»åŠ¡æ”¯æŒï¼‰
3. **add_project** - åˆ›å»ºé¡¹ç›®
4. **remove_item** - åˆ é™¤ä»»åŠ¡æˆ–é¡¹ç›®
5. **edit_item** - ç¼–è¾‘ä»»åŠ¡æˆ–é¡¹ç›®
6. **batch_add_items** - æ‰¹é‡æ·»åŠ ï¼ˆå¢å¼ºå­ä»»åŠ¡æ”¯æŒï¼‰
7. **batch_remove_items** - æ‰¹é‡åˆ é™¤
8. **get_task_by_id** - æŸ¥è¯¢ä»»åŠ¡ä¿¡æ¯

### ğŸ” å†…ç½®é€è§†å·¥å…·
9. **get_inbox_tasks** - æ”¶ä»¶ç®±é€è§†
10. **get_flagged_tasks** - å·²æ ‡è®°é€è§†
11. **get_forecast_tasks** - é¢„æµ‹é€è§†ï¼ˆæˆªæ­¢/æ¨è¿Ÿä»»åŠ¡ï¼‰
12. **get_tasks_by_tag** - åŸºäºæ ‡ç­¾çš„è¿‡æ»¤
13. **filter_tasks** - æ— é™ç»„åˆçš„ç»ˆæè¿‡æ»¤

### ğŸŒŸ è‡ªå®šä¹‰é€è§†å·¥å…·ï¼ˆæ–°åŠŸèƒ½ï¼‰
14. **list_custom_perspectives** - ğŸŒŸ **æ–°åŠŸèƒ½**ï¼šåˆ—å‡ºæ‰€æœ‰è‡ªå®šä¹‰é€è§†åŠè¯¦æƒ…
15. **get_custom_perspective_tasks** - ğŸŒŸ **æ–°åŠŸèƒ½**ï¼šè®¿é—®è‡ªå®šä¹‰é€è§†ï¼Œæ”¯æŒå±‚çº§æ˜¾ç¤º

### ğŸ“Š åˆ†æä¸è·Ÿè¸ª
16. **get_today_completed_tasks** - æŸ¥çœ‹ä»Šæ—¥å®Œæˆçš„ä»»åŠ¡

## ğŸš€ å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

### åŸºç¡€ä»»åŠ¡åˆ›å»º
```bash
# ç®€å•ä»»åŠ¡
add_omnifocus_task {
  "name": "å›é¡¾å­£åº¦ç›®æ ‡",
  "projectName": "è§„åˆ’",
  "dueDate": "2025-01-31"
}
```

### é«˜çº§ä»»åŠ¡ç®¡ç†
```bash
# åˆ›å»ºçˆ¶ä»»åŠ¡
add_omnifocus_task {
  "name": "å¯åŠ¨äº§å“æ´»åŠ¨",
  "projectName": "è¥é”€",
  "dueDate": "2025-02-15",
  "tags": ["æ´»åŠ¨", "ä¼˜å…ˆçº§"]
}

# æ·»åŠ å­ä»»åŠ¡
add_omnifocus_task {
  "name": "è®¾è®¡è½åœ°é¡µ",
  "parentTaskName": "å¯åŠ¨äº§å“æ´»åŠ¨",
  "estimatedMinutes": 240,
  "flagged": true
}
```

### æ™ºèƒ½ä»»åŠ¡å‘ç°
```bash
# æ‰¾åˆ°é«˜ä¼˜å…ˆçº§å·¥ä½œ
filter_tasks {
  "flagged": true,
  "taskStatus": ["Available"],
  "estimateMax": 120,
  "hasEstimate": true
}

# ä»Šæ—¥å®Œæˆçš„å·¥ä½œ
filter_tasks {
  "completedToday": true,
  "taskStatus": ["Completed"],
  "sortBy": "project"
}
```

### ğŸŒŸ è‡ªå®šä¹‰é€è§†ä½¿ç”¨
```bash
# åˆ—å‡ºæ‚¨çš„è‡ªå®šä¹‰é€è§†
list_custom_perspectives {"format": "detailed"}

# è®¿é—®å¸¦å±‚çº§çš„è‡ªå®šä¹‰é€è§†
get_custom_perspective_tasks {
  "perspectiveName": "ä»Šæ—¥å¤ç›˜",
  "showHierarchy": true,
  "hideCompleted": true
}

# å¿«é€ŸæŸ¥çœ‹å‘¨è®¡åˆ’çš„å¹³é“ºè§†å›¾
get_custom_perspective_tasks {
  "perspectiveName": "æœ¬å‘¨é¡¹ç›®",
  "showHierarchy": false
}
```

## ğŸ”§ é…ç½®

### éªŒè¯å®‰è£…
```bash
# æ£€æŸ¥ MCP çŠ¶æ€
claude mcp list

# æµ‹è¯•åŸºæœ¬è¿æ¥
get_inbox_tasks

# æµ‹è¯•æ–°çš„è‡ªå®šä¹‰é€è§†åŠŸèƒ½
list_custom_perspectives
```

### æ•…éšœæ’é™¤
- ç¡®ä¿ OmniFocus 3+ å·²å®‰è£…å¹¶è¿è¡Œ
- éªŒè¯ Node.js 18+ å·²å®‰è£…
- æ£€æŸ¥ Claude Code MCP é…ç½®
- å¦‚éœ€è¦ï¼Œä¸ºç»ˆç«¯åº”ç”¨å¯ç”¨è¾…åŠ©åŠŸèƒ½æƒé™

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- **é¡¹ç›®ç®¡ç†** - åˆ›å»ºå¸¦å­ä»»åŠ¡çš„è¯¦ç»†é¡¹ç›®å±‚çº§
- **GTD å·¥ä½œæµ** - åˆ©ç”¨é€è§†è¿›è¡Œ Getting Things Done æ–¹æ³•è®º
- **æ—¶é—´å—è§„åˆ’** - æŒ‰ä¼°æ—¶è¿‡æ»¤è¿›è¡Œè®¡åˆ’å®‰æ’
- **å›é¡¾æµç¨‹** - ä½¿ç”¨è‡ªå®šä¹‰é€è§†è¿›è¡Œå‘¨/æœˆå›é¡¾
- **å›¢é˜Ÿåè°ƒ** - æ‰¹é‡æ“ä½œè¿›è¡Œå›¢é˜Ÿä»»åŠ¡åˆ†é…
- **AI é©±åŠ¨è§„åˆ’** - è®© Claude åˆ†æå’Œç»„ç»‡æ‚¨çš„ä»»åŠ¡

## ğŸ“ˆ æ€§èƒ½

- **å¿«é€Ÿè¿‡æ»¤** - åŸç”Ÿ AppleScript æ€§èƒ½
- **æ‰¹é‡æ•ˆç‡** - å¤šä»»åŠ¡å•æ¬¡æ“ä½œ
- **å†…å­˜ä¼˜åŒ–** - æœ€å°èµ„æºä½¿ç”¨
- **å¯æ‰©å±•** - é«˜æ•ˆå¤„ç†å¤§å‹ä»»åŠ¡æ•°æ®åº“

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. è¿›è¡Œæ›´æ”¹
4. å¦‚é€‚ç”¨ï¼Œæ·»åŠ æµ‹è¯•
5. æäº¤ pull request

## ğŸ“„ è®¸å¯è¯

MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ”— é“¾æ¥

- **NPM åŒ…**: https://www.npmjs.com/package/omnifocus-mcp-enhanced
- **GitHub ä»“åº“**: https://github.com/jqlts1/omnifocus-mcp-enhanced
- **OmniFocus**: https://www.omnigroup.com/omnifocus/
- **æ¨¡å‹ä¸Šä¸‹æ–‡åè®®**: https://modelcontextprotocol.io/
- **Claude Code**: https://docs.anthropic.com/en/docs/claude-code

## ğŸ™ è‡´è°¢

åŸºäº [themotionmachine](https://github.com/themotionmachine/OmniFocus-MCP) çš„åŸå§‹ OmniFocus MCP æœåŠ¡å™¨ã€‚å¢å¼ºäº†é€è§†è§†å›¾ã€é«˜çº§è¿‡æ»¤å’Œå®Œæ•´çš„å­ä»»åŠ¡æ”¯æŒã€‚

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¸®åŠ©æå‡äº†æ‚¨çš„ç”Ÿäº§åŠ›ï¼Œè¯·ç»™ä»“åº“ç‚¹ä¸ªæ˜Ÿï¼**